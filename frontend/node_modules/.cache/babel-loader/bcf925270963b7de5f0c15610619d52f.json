{"ast":null,"code":"var _jsxFileName = \"/home/rakhi/Project/Laravel-Task/src/App.js\";\nimport React, { lazy, Suspense, useEffect, useContext } from \"react\";\n// import { BrowserRouter, Routes, Route, useNavigate } from 'react-router-dom';\nimport \"./App.scss\";\nimport { BrowserRouter, Routes, Route, useNavigate } from 'react-router-dom';\nimport Sidebar from \"./Layout/Sidebar/Sidebar\";\nimport MobileHeader from \"./Layout/MobileHeader/MobileHeader\";\nimport { AuthContext } from './context/AuthContext'; // Import AuthContext\nimport dotenv from \"dotenv\";\ndotenv.config();\nfunction App() {\n  const navigate = useNavigate();\n  const {\n    user,\n    loading\n  } = useContext(AuthContext); // Get user and loading from context\n\n  // Lazy-loaded pages\n  const Home = lazy(() => import(\"./Pages/Home/Home\"));\n  const CreateTask = lazy(() => import(\"./Pages/CreateTask/CreateTask\"));\n  const TaskDetails = lazy(() => import(\"./Pages/TaskDetails/TaskDetails\"));\n  const Login = lazy(() => import(\"./Pages/Login\"));\n  const Register = lazy(() => import(\"./Pages/Register\"));\n  useEffect(() => {\n    if (loading) {\n      return; // Wait until loading is finished (user data is fetched)\n    }\n    if (!user) {\n      navigate(\"/login\"); // Redirect to login if user is not authenticated\n    } else {\n      navigate(\"/\"); // Navigate to home if user is authenticated\n    }\n  }, [user, loading, navigate]);\n  return /*#__PURE__*/React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 27\n      }\n    }, \"Loading...\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, user && /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 18\n    }\n  }), user && /*#__PURE__*/React.createElement(MobileHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 18\n    }\n  }), /*#__PURE__*/React.createElement(Routes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    element: /*#__PURE__*/React.createElement(Login, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 41\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/register\",\n    element: /*#__PURE__*/React.createElement(Register, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 44\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    element: /*#__PURE__*/React.createElement(Home, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 36\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/create-task\",\n    element: /*#__PURE__*/React.createElement(CreateTask, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 47\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/task-details\",\n    element: /*#__PURE__*/React.createElement(TaskDetails, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 48\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/card-details/:id\",\n    element: /*#__PURE__*/React.createElement(TaskDetails, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 52\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"*\",\n    element: /*#__PURE__*/React.createElement(Home, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 36\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }))));\n}\nexport default App;","map":{"version":3,"names":["React","lazy","Suspense","useEffect","useContext","BrowserRouter","Routes","Route","useNavigate","Sidebar","MobileHeader","AuthContext","dotenv","config","App","navigate","user","loading","Home","CreateTask","TaskDetails","Login","Register","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","fallback","path","element"],"sources":["/home/rakhi/Project/Laravel-Task/src/App.js"],"sourcesContent":["import React, { lazy, Suspense, useEffect, useContext } from \"react\";\n// import { BrowserRouter, Routes, Route, useNavigate } from 'react-router-dom';\nimport \"./App.scss\";\nimport { BrowserRouter, Routes, Route, useNavigate } from 'react-router-dom';\nimport Sidebar from \"./Layout/Sidebar/Sidebar\";\nimport MobileHeader from \"./Layout/MobileHeader/MobileHeader\";\nimport { AuthContext } from './context/AuthContext'; // Import AuthContext\nimport dotenv from \"dotenv\";\n\ndotenv.config();\n\nfunction App() {\n  const navigate = useNavigate();\n  const { user, loading } = useContext(AuthContext); // Get user and loading from context\n\n  // Lazy-loaded pages\n  const Home = lazy(() => import(\"./Pages/Home/Home\"));\n  const CreateTask = lazy(() => import(\"./Pages/CreateTask/CreateTask\"));\n  const TaskDetails = lazy(() => import(\"./Pages/TaskDetails/TaskDetails\"));\n  const Login = lazy(() => import(\"./Pages/Login\"));\n  const Register = lazy(() => import(\"./Pages/Register\"));\n\n  useEffect(() => {\n    if (loading) {\n      return; // Wait until loading is finished (user data is fetched)\n    }\n\n    if (!user) {\n      navigate(\"/login\"); // Redirect to login if user is not authenticated\n    } else {\n      navigate(\"/\"); // Navigate to home if user is authenticated\n    }\n  }, [user, loading, navigate]);\n\n  return (\n    <BrowserRouter>\n      <Suspense fallback={<div>Loading...</div>}>\n        {/* Sidebar and Mobile Header are only visible if user is authenticated */}\n        {user && <Sidebar />}\n        {user && <MobileHeader />}\n\n        <Routes>\n          {/* Public Routes */}\n          <Route path=\"/login\" element={<Login />} />\n          <Route path=\"/register\" element={<Register />} />\n\n          {/* Protected Routes (only accessible when logged in) */}\n          <Route path=\"/\" element={<Home />} />\n          <Route path=\"/create-task\" element={<CreateTask />} />\n          <Route path=\"/task-details\" element={<TaskDetails />} />\n          <Route path=\"/card-details/:id\" element={<TaskDetails />} />\n\n          {/* Catch-all route (default route) */}\n          <Route path=\"*\" element={<Home />} />\n        </Routes>\n      </Suspense>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}