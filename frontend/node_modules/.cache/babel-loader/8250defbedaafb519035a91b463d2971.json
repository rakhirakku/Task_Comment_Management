{"ast":null,"code":"var _jsxFileName = \"/home/rakhi/Project/Laravel-Task/src/App.js\";\nimport React, { lazy, Suspense, useContext, useEffect } from 'react';\nimport { Routes, Route, useNavigate, BrowserRouter, Navigate } from 'react-router-dom';\nimport { AuthContext } from './context/AuthContext';\nimport \"./App.scss\";\nimport Sidebar from \"./Layout/Sidebar/Sidebar\";\nimport MobileHeader from \"./Layout/MobileHeader/MobileHeader\";\nimport dotenv from \"dotenv\";\nimport ProtectedRoute from './ProtectedRoute';\ndotenv.config();\nfunction App() {\n  const navigate = useNavigate();\n  const {\n    user,\n    loading\n  } = useContext(AuthContext); // Fetch user and loading state from context\n  const Home = lazy(() => import(\"./Pages/Home/Home\"));\n  const CreateTask = lazy(() => import(\"./Pages/CreateTask/CreateTask\"));\n  const TaskDetails = lazy(() => import(\"./Pages/TaskDetails/TaskDetails\"));\n  const Login = lazy(() => import('./Pages/Login'));\n  const Register = lazy(() => import('./Pages/Register'));\n\n  // Effect for handling redirection logic\n  useEffect(() => {\n    if (loading) return; // Wait for the loading state to complete\n    if (!user && window.location.pathname !== '/login' && window.location.pathname !== '/register') {\n      navigate('/login'); // Redirect to login if the user is not authenticated\n    } else if (user && window.location.pathname === '/login') {\n      navigate('/'); // Redirect to home page if the user is authenticated but on login page\n      window.location.reload(); // Refresh the page after navigation\n    }\n  }, [user, loading, navigate]);\n  return /*#__PURE__*/React.createElement(Suspense, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, user && /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 18\n    }\n  }), user && /*#__PURE__*/React.createElement(MobileHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 18\n    }\n  }), /*#__PURE__*/React.createElement(Routes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    element: /*#__PURE__*/React.createElement(Login, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 41\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/register\",\n    element: /*#__PURE__*/React.createElement(Register, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 44\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    element: /*#__PURE__*/React.createElement(ProtectedRoute, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Home, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/create-task\",\n    element: /*#__PURE__*/React.createElement(ProtectedRoute, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(CreateTask, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/card-details/:id\",\n    element: /*#__PURE__*/React.createElement(ProtectedRoute, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TaskDetails, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"*\",\n    element: /*#__PURE__*/React.createElement(Navigate, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 36\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  })));\n}\nexport default App;","map":{"version":3,"names":["React","lazy","Suspense","useContext","useEffect","Routes","Route","useNavigate","BrowserRouter","Navigate","AuthContext","Sidebar","MobileHeader","dotenv","ProtectedRoute","config","App","navigate","user","loading","Home","CreateTask","TaskDetails","Login","Register","window","location","pathname","reload","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","path","element","to"],"sources":["/home/rakhi/Project/Laravel-Task/src/App.js"],"sourcesContent":["import React, { lazy, Suspense, useContext, useEffect } from 'react';\nimport { Routes, Route, useNavigate, BrowserRouter, Navigate } from 'react-router-dom';\nimport { AuthContext } from './context/AuthContext';\nimport \"./App.scss\";\nimport Sidebar from \"./Layout/Sidebar/Sidebar\";\nimport MobileHeader from \"./Layout/MobileHeader/MobileHeader\";\nimport dotenv from \"dotenv\";\nimport ProtectedRoute from './ProtectedRoute';\n\ndotenv.config();\n\nfunction App() {\n  const navigate = useNavigate();\n  const { user, loading } = useContext(AuthContext); // Fetch user and loading state from context\n  const Home = lazy(() => import(\"./Pages/Home/Home\"));\n  const CreateTask = lazy(() => import(\"./Pages/CreateTask/CreateTask\"));\n  const TaskDetails = lazy(() =>import(\"./Pages/TaskDetails/TaskDetails\"));\n  const Login = lazy(() => import('./Pages/Login'));\n  const Register = lazy(() => import('./Pages/Register'));\n\n  // Effect for handling redirection logic\n  useEffect(() => {\n    if (loading) return; // Wait for the loading state to complete\n    if (!user && window.location.pathname !== '/login' && window.location.pathname !== '/register') {\n      navigate('/login'); // Redirect to login if the user is not authenticated\n    } else if (user && window.location.pathname === '/login') {\n      navigate('/'); // Redirect to home page if the user is authenticated but on login page\n      window.location.reload(); // Refresh the page after navigation\n    }\n  }, [user, loading, navigate]);\n\n  return (\n      <Suspense>\n        {/* Sidebar and Mobile Header are rendered only if user is authenticated */}\n        {user && <Sidebar />}\n        {user && <MobileHeader />}\n        <Routes>\n          {/* Public Routes */}\n          <Route path=\"/login\" element={<Login />} />\n          <Route path=\"/register\" element={<Register />} />\n\n          {/* Protected Routes */}\n          <Route\n            path=\"/\"\n            element={\n              <ProtectedRoute>\n                <Home />\n              </ProtectedRoute>\n            }\n          />\n          <Route\n            path=\"/create-task\"\n            element={\n              <ProtectedRoute>\n                <CreateTask />\n              </ProtectedRoute>\n            }\n          />\n          <Route\n            path=\"/card-details/:id\"\n            element={\n              <ProtectedRoute>\n                <TaskDetails />\n              </ProtectedRoute>\n            }\n          />\n\n          {/* Catch-all route */}\n          <Route path=\"*\" element={<Navigate to=\"/\" />} />\n        </Routes>\n      </Suspense>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}