{"ast":null,"code":"var _jsxFileName = \"/home/rakhi/Project/Laravel-Task/src/App.js\";\nimport React, { lazy, Suspense, useContext, useEffect } from 'react';\nimport { Routes, Route, useNavigate, BrowserRouter, Navigate } from 'react-router-dom';\nimport { AuthContext } from './context/AuthContext';\nimport \"./App.scss\";\nimport Sidebar from \"./Layout/Sidebar/Sidebar\";\nimport MobileHeader from \"./Layout/MobileHeader/MobileHeader\";\nimport dotenv from \"dotenv\";\nimport ProtectedRoute from './ProtectedRoute'; // Adjust the path based on your file structure\n\ndotenv.config();\nfunction App() {\n  const navigate = useNavigate();\n  const {\n    user,\n    loading\n  } = useContext(AuthContext); // Fetch user and loading state from context\n  const Home = lazy(() => import(\"./Pages/Home/Home\"));\n  const CreateTask = lazy(() => import(\"./Pages/CreateTask/CreateTask\"));\n  const TaskDetails = lazy(() => import(\"./Pages/TaskDetails/TaskDetails\"));\n  const Login = lazy(() => import('./Pages/Login'));\n  const Register = lazy(() => import('./Pages/Register'));\n\n  // useEffect(() => {\n  //   if (loading) return; // Do nothing until loading is complete\n\n  //   if (!user && window.location.pathname !== '/login' && window.location.pathname !== '/register') {\n  //     navigate('/login'); // Redirect to login only if the user is not authenticated and trying to access a protected route\n  //   }\n  // }, [user, loading, navigate]);\n  useEffect(() => {\n    if (loading) return; // Wait for loading to complete\n\n    if (user) {\n      navigate('/'); // Redirect to home if logged in\n    } else {\n      navigate('/login'); // Redirect to login if not authenticated\n    }\n  }, [user, loading, navigate]);\n  return (\n    /*#__PURE__*/\n    // <BrowserRouter>\n    React.createElement(Suspense, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }\n    }, user && /*#__PURE__*/React.createElement(Sidebar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 16\n      }\n    }), user && /*#__PURE__*/React.createElement(MobileHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(Routes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      element: /*#__PURE__*/React.createElement(Login, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 33\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/register\",\n      element: /*#__PURE__*/React.createElement(Register, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 36\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      element: /*#__PURE__*/React.createElement(ProtectedRoute, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Home, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/create-task\",\n      element: /*#__PURE__*/React.createElement(ProtectedRoute, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(CreateTask, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/card-details/:id\",\n      element: /*#__PURE__*/React.createElement(ProtectedRoute, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(TaskDetails, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"*\",\n      element: /*#__PURE__*/React.createElement(Navigate, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 28\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 3\n      }\n    })))\n    // </BrowserRouter>\n  );\n}\nexport default App;\n\n// function App() {\n//   const navigate = useNavigate();\n//   const { user, loading } = useContext(AuthContext); // Fetch user and loading state from context\n\n//   // Lazy-loaded pages\n//   const Home = lazy(() => import('./Pages/Home/Home'));\n//   const CreateTask = lazy(() => import('./Pages/CreateTask/CreateTask'));\n//   const TaskDetails = lazy(() => import('./Pages/TaskDetails/TaskDetails'));\n//   const Login = lazy(() => import('./Pages/Login'));\n//   const Register = lazy(() => import('./Pages/Register'));\n\n//   useEffect(() => {\n//     // if (loading) return;\n\n//     if (!user) {\n//       navigate('/login'); // If not logged in, redirect to login\n//     } else {\n//       navigate('/'); // If logged in, navigate to home\n//     }\n//   }, [user, loading, navigate]);\n\n//   return (\n//     <Suspense fallback={<div>Loading...</div>}>\n//       {user && <Sidebar />}\n//       {user && <MobileHeader />}\n//       <Routes>\n//         <Route path=\"/login\" element={<Login />} />\n//         <Route path=\"/register\" element={<Register />} />\n//         <Route path=\"/\" element={<Home />} />\n//         <Route path=\"/create-task\" element={<CreateTask />} />\n//         <Route path=\"/task-details\" element={<TaskDetails />} />\n//         <Route path=\"/card-details/:id\" element={<TaskDetails />} />\n//         <Route path=\"*\" element={<Home />} /> {/* Catch-all route */}\n//       </Routes>\n//     </Suspense>\n//   );\n// }\n\n// export default App;","map":{"version":3,"names":["React","lazy","Suspense","useContext","useEffect","Routes","Route","useNavigate","BrowserRouter","Navigate","AuthContext","Sidebar","MobileHeader","dotenv","ProtectedRoute","config","App","navigate","user","loading","Home","CreateTask","TaskDetails","Login","Register","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","path","element","to"],"sources":["/home/rakhi/Project/Laravel-Task/src/App.js"],"sourcesContent":["import React, { lazy, Suspense, useContext, useEffect } from 'react';\nimport { Routes, Route, useNavigate, BrowserRouter, Navigate } from 'react-router-dom';\nimport { AuthContext } from './context/AuthContext';\nimport \"./App.scss\";\nimport Sidebar from \"./Layout/Sidebar/Sidebar\";\nimport MobileHeader from \"./Layout/MobileHeader/MobileHeader\";\nimport dotenv from \"dotenv\";\nimport ProtectedRoute from './ProtectedRoute'; // Adjust the path based on your file structure\n\ndotenv.config();\n\nfunction App() {\n  const navigate = useNavigate();\n  const { user, loading } = useContext(AuthContext); // Fetch user and loading state from context\n  const Home = lazy(() => import(\"./Pages/Home/Home\"));\n  const CreateTask = lazy(() => import(\"./Pages/CreateTask/CreateTask\"));\n  const TaskDetails = lazy(() =>import(\"./Pages/TaskDetails/TaskDetails\")\n  );\n  const Login = lazy(() => import('./Pages/Login'));\n  const Register = lazy(() => import('./Pages/Register'));\n\n  // useEffect(() => {\n  //   if (loading) return; // Do nothing until loading is complete\n  \n  //   if (!user && window.location.pathname !== '/login' && window.location.pathname !== '/register') {\n  //     navigate('/login'); // Redirect to login only if the user is not authenticated and trying to access a protected route\n  //   }\n  // }, [user, loading, navigate]);\n  useEffect(() => {\n    if (loading) return; // Wait for loading to complete\n  \n    if (user) {\n      navigate('/'); // Redirect to home if logged in\n    } else {\n      navigate('/login'); // Redirect to login if not authenticated\n    }\n  }, [user, loading, navigate]);\n  return (\n    // <BrowserRouter>\n      <Suspense>\n        {/* Sidebar and Mobile Header are rendered only if user is authenticated */}\n      {user && <Sidebar />}\n      {user && <MobileHeader />}\n        {/* <Routes>\n          <Route path=\"/\" element={<Home />}  />\n          <Route path=\"*\" element={<Home />}  />\n          <Route path=\"/create-task\" element={<CreateTask />}  />\n          <Route path=\"/task-details\" element={<TaskDetails />}  />\n          <Route path=\"/card-details/:id\" element={<TaskDetails  />} />\n        </Routes> */}\n        <Routes>\n  {/* Public Routes */}\n  <Route path=\"/login\" element={<Login />} />\n  <Route path=\"/register\" element={<Register />} />\n\n  {/* Protected Routes */}\n  <Route\n    path=\"/\"\n    element={\n      <ProtectedRoute>\n        <Home />\n      </ProtectedRoute>\n    }\n  />\n  <Route\n    path=\"/create-task\"\n    element={\n      <ProtectedRoute>\n        <CreateTask />\n      </ProtectedRoute>\n    }\n  />\n  <Route\n    path=\"/card-details/:id\"\n    element={\n      <ProtectedRoute>\n        <TaskDetails />\n      </ProtectedRoute>\n    }\n  />\n\n  {/* Catch-all route */}\n  <Route path=\"*\" element={<Navigate to=\"/\" />} />\n</Routes>\n      </Suspense>\n    // </BrowserRouter>\n  );\n}\n\nexport default App;\n\n\n// function App() {\n//   const navigate = useNavigate();\n//   const { user, loading } = useContext(AuthContext); // Fetch user and loading state from context\n\n//   // Lazy-loaded pages\n//   const Home = lazy(() => import('./Pages/Home/Home'));\n//   const CreateTask = lazy(() => import('./Pages/CreateTask/CreateTask'));\n//   const TaskDetails = lazy(() => import('./Pages/TaskDetails/TaskDetails'));\n//   const Login = lazy(() => import('./Pages/Login'));\n//   const Register = lazy(() => import('./Pages/Register'));\n\n//   useEffect(() => {\n//     // if (loading) return;\n\n//     if (!user) {\n//       navigate('/login'); // If not logged in, redirect to login\n//     } else {\n//       navigate('/'); // If logged in, navigate to home\n//     }\n//   }, [user, loading, navigate]);\n\n//   return (\n//     <Suspense fallback={<div>Loading...</div>}>\n//       {user && <Sidebar />}\n//       {user && <MobileHeader />}\n//       <Routes>\n//         <Route path=\"/login\" element={<Login />} />\n//         <Route path=\"/register\" element={<Register />} />\n//         <Route path=\"/\" element={<Home />} />\n//         <Route path=\"/create-task\" element={<CreateTask />} />\n//         <Route path=\"/task-details\" element={<TaskDetails />} />\n//         <Route path=\"/card-details/:id\" element={<TaskDetails />} />\n//         <Route path=\"*\" element={<Home />} /> {/* Catch-all route */}\n//       </Routes>\n//     </Suspense>\n//   );\n// }\n\n// export default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}